<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Printxe3D — E‑commerce 3D (Démo HTML)</title>
  <meta name="description" content="Printxe3D – Impression 3D futuriste. Boutique, configurateur 3D, checkout invité." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#000;--bg-soft:#0a0a0a;--text:#fff;--muted:#bfbfbf;--accent:#D7FF2F;
      --radius:16px;--shadow:0 10px 30px rgba(215,255,47,.15);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1180px;margin:0 auto;padding:0 20px}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.9rem 1.2rem;border-radius:var(--radius);cursor:pointer;border:1px solid transparent;transition:.2s transform,.2s filter,.2s background,.2s border-color}
    .btn:hover{transform:translateY(-1px)}
    .btn-acc{background:var(--accent);color:#000;box-shadow:var(--shadow);font-weight:800}
    .btn-ghost{background:transparent;border-color:var(--accent);color:var(--text)}
    .chip{font-size:.7rem;text-transform:uppercase;letter-spacing:.12em;color:#111;background:var(--accent);border-radius:999px;padding:.25rem .6rem;font-weight:800}
    header.site{position:sticky;top:0;z-index:50;backdrop-filter:blur(6px);background:rgba(0,0,0,.6);border-bottom:1px solid rgba(255,255,255,.06)}
    header .row{height:64px;display:flex;align-items:center;justify-content:space-between}
    nav a {
  position: relative;
  opacity: .9;
  margin: 0 .8rem;
  padding-bottom: 2px;
  transition: color .22s;
}
nav a.active,
nav a:hover {
  color: var(--accent);
}
nav a::after {
  content: "";
  display: block;
  position: absolute;
  left: 0; right: 0; bottom: 0;
  height: 2.5px;
  background: var(--accent);
  border-radius: 2px;
  opacity: 0;
  transform: scaleX(0.5);
  transition: opacity .22s, transform .22s;
}
nav a.active::after,
nav a:hover::after {
  opacity: 1;
  transform: scaleX(1);
}
/* Restore square background for feature icons in the "Pourquoi" / featGrid area */
.featGrid .feature-ico,
.feature-card .feature-ico {
  width: 54px !important;
  height: 54px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 14px !important;
  background: rgba(215,255,47,0.13) !important;
  box-shadow: 0 2px 12px #d7ff2f22 !important;
  margin-bottom: 18px;
  margin-top: -8px;
}
/* ensure SVG size and color remain consistent */
.featGrid .feature-ico svg,
.feature-card .feature-ico svg {
  width: 32px;
  height: 32px;
  color: var(--accent);
  display: block;
}
    .logo{display:flex;align-items:center;gap:.7rem}
    .logo svg{height:28px}
    .pill{display:inline-flex;align-items:center;gap:.4rem;border:1px solid rgba(255,255,255,.12);border-radius:999px;padding:.35rem .6rem;background:#0b0b0b}
    .grid{display:grid;gap:20px}
    .card{background:var(--bg-soft);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius)}
    .card.pad{padding:20px}
    .shadow{box-shadow:0 10px 24px rgba(0,0,0,.35)}
    .muted{color:var(--muted)}
    .title{font-family:Orbitron,Inter,sans-serif}
    .h1{font-size:clamp(32px,5vw,56px);line-height:1.05;margin:0}
    .h2{font-family:Orbitron,Inter,sans-serif;font-size:clamp(22px,3vw,30px);margin:0 0 10px}
    .h3{font-weight:700;margin:0 0 6px}
    .section{padding:64px 0}
    .hero {
      position: relative;
      overflow: hidden;
      background:
        radial-gradient(1000px 600px at 50% 0%, rgba(215,255,47,0.10), transparent 80%),
        radial-gradient(ellipse at 70% 20%, rgba(215,255,47,0.13) 0%, transparent 70%),
        radial-gradient(ellipse at 20% 80%, rgba(215,255,47,0.09) 0%, transparent 70%),
        linear-gradient(120deg, #181818 0%, #000 100%);
    }
    .halo{position:absolute;inset:-20%;background:radial-gradient(700px 400px at 70% 30%, rgba(215,255,47,.25), transparent 60%);filter:blur(40px);opacity:.4;pointer-events:none}
    .heroRow{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:center}
    @media (max-width:900px){.heroRow{grid-template-columns:1fr}}
    .viewer{height:420px;border-radius:var(--radius);background:var(--bg-soft);border:1px solid rgba(255,255,255,.06)}
    .featGrid{grid-template-columns:repeat(4,1fr)}
    @media (max-width:900px){.featGrid{grid-template-columns:repeat(2,1fr)}}
    .toolbar{display:flex;flex-direction:row !important;gap:10px;align-items:flex-end;min-width:0;max-width:none}
    .toolbar input,.toolbar select{background:#0b0b0b;border:1px solid rgba(255,255,255,.12);color:var(--text);border-radius:12px;padding:.6rem .8rem;outline:none}
    .prodGrid {
  display: grid;
  grid-template-columns: repeat(4, minmax(220px, 1fr));
  gap: 20px;
  margin-top: 16px;
  width: 100%;
  max-width: 1180px;
  margin-left: auto;
  margin-right: auto;
  box-sizing: border-box;
  justify-items: center;
}
    .card.prod.shadow {
  width: 100%;        
  max-width: 260px;   
  min-width: 180px;      
  flex: 1 1 220px;       
  box-sizing: border-box;
}
    @media (max-width:1100px){.prodGrid{grid-template-columns:repeat(3,minmax(220px,1fr))}}
    @media (max-width:800px){.prodGrid{grid-template-columns:repeat(2,minmax(220px,1fr))}}
    @media (max-width:520px){.prodGrid{grid-template-columns:1fr}}
    .thumb{
  aspect-ratio:1/1;
  border-bottom:1px solid rgba(255,255,255,.06);
  background:linear-gradient(135deg,#1a1a1a,#0f0f0f);
  position:relative;
  overflow:hidden;
  border-radius: 14px;
}
    .price{font-weight:800;color:var(--accent)}
    .prod{display:flex;flex-direction:column}
    .prod .pad{padding:14px}
    .prod:hover {
  box-shadow: 0 8px 32px 0 rgba(215,255,47,0.18), 0 1.5px 8px 0 rgba(0,0,0,0.18);
  transform: translateY(-6px) scale(1.025);
  border-color: var(--accent);
  transition: box-shadow .25s, transform .25s;
}
    .prod {
  opacity: 0;
  transform: translateY(30px);
  animation: prodIn 0.7s cubic-bezier(.33,1.02,.47,.98) forwards;
}
@keyframes prodIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.7);z-index:60}
    .modal.open{display:grid}
    .modal .box{width:min(980px,92vw);max-height:92vh;overflow:auto}
    .variantRow{display:flex;flex-wrap:wrap;gap:10px}
    .variantRow select{background:#0b0b0b;border:1px solid rgba(255,255,255,.12);color:var(--text);border-radius:12px;padding:.5rem .7rem}
    .cart{position:fixed;inset:0;z-index:70;display:none}
    .cart.open{display:block}
    .cart .back{position:absolute;inset:0;background:rgba(0,0,0,.7)}
    .cart aside{position:absolute;right:0;top:0;height:100%;width:min(420px,96vw);background:#0b0b0b;border-left:1px solid rgba(255,255,255,.12);padding:18px;transform:translateX(100%);transition:.25s transform}
    .cart.open aside{transform:translateX(0)}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tabs button{background:#0b0b0b;border:1px solid rgba(255,255,255,.12);color:var(--text);border-radius:999px;padding:.45rem .9rem}
    .tabs button.active{background:var(--accent);color:#000;font-weight:800}
    footer{border-top:1px solid rgba(255,255,255,.06)}
.input, textarea, select {
  background: #0b0b0b;
  border: 1px solid rgba(255,255,255,.12);
  color: var(--text);
  border-radius: 12px;
  padding: .6rem .8rem;
  outline: none;
  font-size: 1rem;
  width: 100%;
  box-sizing: border-box;
  transition: border-color .2s;
}
.input:focus, textarea:focus, select:focus {
  border-color: var(--accent);
}
body {
  background:
    radial-gradient(ellipse at 70% 20%, rgba(215,255,47,0.13) 0%, transparent 70%),
    radial-gradient(ellipse at 20% 80%, rgba(215,255,47,0.09) 0%, transparent 70%),
    linear-gradient(120deg, #181818 0%, #000 100%);
}
@keyframes greenGlow {
  0% { filter: blur(60px) brightness(1.1); opacity: 0.18; }
  50% { filter: blur(80px) brightness(1.3); opacity: 0.28; }
  100% { filter: blur(60px) brightness(1.1); opacity: 0.18; }
}
.bg-green-halo {
  position: fixed;
  z-index: 0;
  pointer-events: none;
  left: 0; top: 0; width: 100vw; height: 100vh;
  background: radial-gradient(circle at 60% 30%, #D7FF2F 0%, transparent 70%);
  opacity: 0.22;
  animation: greenGlow 6s infinite;
}

#heroViewer {
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  overflow: visible !important;
}
#heroViewer model-viewer {
  display: block;
  margin-top: -100px;
}

body, .hero, .section, .card, .prod, .toolbar, header.site, footer, .bg-green-halo {
  animation: fadeInSite 1.1s cubic-bezier(.33,1.02,.47,.98) both;
}

@keyframes fadeInSite {
  from {
    opacity: 0;
    filter: blur(12px);
    transform: translateY(40px) scale(0.98);
  }
  to {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0) scale(1);
  }
}
.card, .prod {
  transition: box-shadow .25s, transform .25s, filter .25s, opacity .25s;
}
.card:hover, .prod:hover {
  filter: brightness(1.07) drop-shadow(0 0 16px #d7ff2f33);
  transform: translateY(-6px) scale(1.025);
  box-shadow: 0 8px 32px 0 rgba(215,255,47,0.18), 0 1.5px 8px 0 rgba(0,0,0,0.18);
  z-index: 2;
}
.btn, .btn-acc, .btn-ghost {
  transition: background .22s, color .22s, transform .18s, box-shadow .22s;
}
.btn:hover, .btn-acc:hover, .btn-ghost:hover {
  box-shadow: 0 2px 12px 0 #d7ff2f44;
  transform: translateY(-2px) scale(1.04);
}
.h1, .h2, .h3 {
  animation: fadeInTitle 1.2s cubic-bezier(.33,1.02,.47,.98) both;
}
@keyframes fadeInTitle {
  from {
    opacity: 0;
    letter-spacing: 0.2em;
    filter: blur(8px);
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    letter-spacing: normal;
    filter: blur(0);
    transform: translateY(0);
  }
}
#loadMore {
  background: var(--accent);
  color: #111;
  font-weight: 800;
  border-radius: var(--radius);
  border: 1.5px solid var(--accent);
  box-shadow: 0 4px 18px 0 rgba(215,255,47,0.13);
  letter-spacing: 0.04em;
  font-size: 1.08rem;
  transition: background .22s, color .22s, transform .18s, box-shadow .22s;
}
#loadMore:hover {
  background: #fff700;
  color: #000;
  box-shadow: 0 2px 16px 0 #d7ff2f44;
  transform: translateY(-2px) scale(1.04);
}
.section .h2 {
  margin-bottom: 32px;
}
.featGrid {
  row-gap: 32px;
}
header.site .container.row {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
header.site nav {
  flex: 1;
  display: flex;
  justify-content: center;
  gap: 1.5rem;
}

#openCart {
  position: relative;
  color: #111;
  border: none;
  min-width: 48px;
  min-height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.btn.btn-view {
  background: #eaeaea !important;
  color: #222 !important;
  margin-top: 0 !important;
  margin-bottom: 1px !important;
  border: none;
  border-radius: var(--radius);
  font-weight: 600;
  font-size: 0.85rem;
  padding: 0.5rem 2.2rem;
  min-height: 30px;
  height: 30px;
  width: 130px;
  margin-top: 8px;
  transition: background .18s, color .18s, box-shadow .18s;
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
}
.btn.btn-view:hover {
  background: #f5f5f5 !important;
  color: #000 !important;
  box-shadow: 0 4px 18px #d7ff2f22;
}
.feature-card {
  position: relative;
  overflow: hidden;
  background: linear-gradient(120deg, #111 60%, #181818 100%);
  border: 1.5px solid rgba(215,255,47,0.08);
  transition: box-shadow .22s, border-color .22s, transform .22s;
}
.feature-card:hover {
  border-color: var(--accent);
  box-shadow: 0 0 24px 0 #d7ff2f33, 0 2px 12px 0 #000;
  transform: translateY(-6px) scale(1.025);
}
.feature-ico {
  width: 54px;
  height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 14px;
  margin-bottom: 18px;
  margin-top: -8px;
  box-shadow: 0 2px 12px #d7ff2f22;
}
.feature-card .h3.accent {
  color: var(--accent);
  font-family: Orbitron, Inter, sans-serif;
  font-size: 1.18rem;
  margin-bottom: 8px;
  margin-top: 0;
  letter-spacing: .01em;
}
.faq-card {
  position: relative;
  overflow: hidden;
  background: linear-gradient(120deg, #111 60%, #181818 100%);
  border: 1.5px solid rgba(215,255,47,0.08);
  transition: box-shadow .22s, border-color .22s, transform .22s;
}
.faq-card:hover {
  border-color: var(--accent);
  box-shadow: 0 0 24px 0 #d7ff2f33, 0 2px 12px 0 #000;
  transform: translateY(-6px) scale(1.025);
}
.faq-ico {
  width: 54px;
  height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 14px;
  margin-bottom: 18px;
  margin-top: -8px;
  box-shadow: 0 2px 12px #d7ff2f22;
}
.faq-card .h3.accent {
  color: var(--accent);
  font-family: Orbitron, Inter, sans-serif;
  font-size: 1.13rem;
  margin-bottom: 8px;
  margin-top: 0;
  letter-spacing: .01em;
}
.faq-accordion {
  background: linear-gradient(120deg, #d7ff2f22 60%, #d7ff2f22 100%);
  border: 1.5px solid rgba(215,255,47,0.13);
  border-radius: var(--radius);
  margin-bottom: 18px;
  box-shadow: 0 0 24px 0 #d7ff2f22, 0 2px 12px 0 #d7ff2f22;
  transition: box-shadow .22s, border-color .22s, transform .22s;
  overflow: hidden;
  position: relative;
}
.faq-accordion[open] {
  border-color: var(--accent);
  box-shadow: 0 0 32px 0 #d7ff2f44, 0 2px 12px 0 #d7ff2f22;
}
.faq-accordion summary {
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  font-weight: 600;
  font-size: 1.08rem;
  padding: 18px 0 18px 0;
  outline: none;
  color: var(--accent);
  background: none;
  border: none;
  user-select: none;
  transition: color .18s;
  min-height: 54px;
}
.faq-accordion .faq-ico {
  width: 38px;
  height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(215,255,47,0.10);
  border-radius: 12px;
  margin-right: 2px;
  margin-left: 18px;
  box-shadow: 0 2px 12px #d7ff2f22;
  flex-shrink: 0;
  margin-top: 0;
  margin-bottom: 0;
}
.faq-accordion p {
  margin: 0 0 18px 52px;
  color: var(--muted);
  font-size: 1.01rem;
  line-height: 1.6;
  letter-spacing: .01em;
  opacity: 0;
  max-height: 0;
  transition: opacity .35s, max-height .35s;
  overflow: hidden;
}
.faq-accordion[open] p {
  opacity: 1;
  max-height: 200px;
  transition: opacity .35s .08s, max-height .35s .08s;
}
.faq-accordion > *:not(summary) {
  animation: faqFadeIn .45s cubic-bezier(.33,1.02,.47,.98);
}
@keyframes faqFadeIn {
  from { opacity: 0; transform: translateY(-12px);}
  to { opacity: 1; transform: translateY(0);}
}
@media (max-width: 900px) {
  .faq-accordion { margin-bottom: 12px; }
  .faq-accordion summary { font-size: 1rem; padding: 14px 0 14px 0; }
  .faq-accordion .faq-ico { width: 32px; height: 32px; }
  .faq-accordion p { margin-left: 44px; }
}
.cart-btn {
  background: none !important;
  border: none;
  cursor: pointer;
  padding: 0;
  outline: none;
  transition: transform 0.2s ease;
  box-shadow: none !important;
}
.cart-btn img {
  width: 30px;
  height: 30px;
  display: block;
}
.cart-btn:hover {
  transform: scale(1.1);
}
.cart-btn:active {
  transform: scale(0.95);
}
.btn-acc {
  background: url('https://i.postimg.cc/WzJn3tgM/Panier-1.png') center/cover no-repeat !important;
  color: #000 !important;
  position: relative;
  z-index: 1;
}
.btn-acc span, .btn-acc {
  position: relative;
  z-index: 2;
}
.cart-button {
  position: relative;
  padding: 10px;
  width: 170px;
  height: 32px;
  border: 0;
  border-radius: 4px;
  background-color: #D7FF2F;
  outline: none;
  cursor: pointer;
  color: #000000;
  transition: .3s ease-in-out;
  overflow: hidden;
  font-family: 'Poppins', sans-serif;
}
.cart-button:hover {
  background-color: #b1d422;
}
.cart-button:active {
  transform: scale(.3);
}
.cart-button .fa-shopping-cart {
  position: absolute;
  z-index: 2;
  top: 50%;
  left: -10%;
  font-size: 1em;
  transform: translate(-50%,-50%);
}
.cart-button .fa-box {
  position: absolute;
  z-index: 3;
  top: -20%;
  left: 52%;
  font-size: 0.466em;
  transform: translate(-50%,-50%);
}
.cart-button span {
  position: absolute;
  z-index: 3;
  left: 50%;
  top: 50%;
  font-size: 1em;
  font-weight: 133.333;
  color: #000000;
  transform: translate(-50%,-50%);
  transition: font-weight 0.3s ease;
}
.cart-button span.add-to-cart {
  opacity: 1;
}
.cart-button span.added,
.cart-button span.removed {
  opacity: 0;
}
.cart-button.bold-text span {
  font-weight: 500.333;
}
.cart-button.clicked .fa-shopping-cart {
  animation: cart 1.5s ease-in-out forwards;
}
.cart-button.clicked .fa-box {
  animation: box 1.5s ease-in-out forwards;
}
.cart-button.clicked span.add-to-cart {
  animation: txt1 1.5s ease-in-out forwards;
}
.cart-button.clicked span.added {
  animation: txt2 1.5s ease-in-out forwards;
}
.cart-button.removed .add-to-cart {
  animation: txt2 1.5s ease-in-out forwards;
  opacity: 1;
}
.cart-button.removed .added {
  animation: txt1 1.5s ease-in-out forwards;
  opacity: 0;
}
@keyframes cart {
  0% { left: -10%; }
  40%, 60% { left: 50%; }
  100% { left: 110%; }
}
@keyframes box {
  0%, 40% { top: -20%; }
  60% { top: 40%; left: 52%; }
  100% { top: 40%; left: 112%; }
}
@keyframes txt1 {
  0% { opacity: 1; }
  20%, 100% { opacity: 0; }
}
@keyframes txt2 {
  0%, 80% { opacity: 0; }
  100% { opacity: 1; }
}
body, .section, header.site, footer, .modal, .card, .prod, .viewer {
  background:
    radial-gradient(1000px 600px at 50% 0%, rgba(215,255,47,0.10), transparent 80%),
    radial-gradient(ellipse at 70% 20%, rgba(215,255,47,0.13) 0%, transparent 70%),
    radial-gradient(ellipse at 20% 80%, rgba(215,255,47,0.09) 0%, transparent 70%),
    linear-gradient(120deg, #181818 0%, #000 100%) !important;
  background-blend-mode: lighten;
}
.store-header-row {
  margin-left: 40px;
}
@media (max-width: 700px) {
  .store-header-row {
    margin-left: 0;
  }
}
.toolbar {
  margin-left: 170px;
}
@media (max-width: 700px) {
  .toolbar {
    margin-left: 0;
  }
}
.tally-progress-bar__bar {
  background: #D7FF2F !important;
}
button, .tally-submit-button, .tally-button {
  background: #D7FF2F !important;
  color: #111 !important;
  border-radius: 16px !important;
  font-weight: 700 !important;
  box-shadow: 0 2px 12px #d7ff2f33 !important;
  border: none !important;
  transition: background .18s, color .18s;
}
button:hover, .tally-submit-button:hover, .tally-button:hover {
  background: #fff700 !important;
  color: #000 !important;
}
.tally-label, .tally-question__title, .tally-question__description, .tally-success-message__title {
  color: #D7FF2F !important;
}
#openCart,
#openCart:hover,
#openCart:focus,
#openCart:active,
.cart-btn,
.cart-btn:hover,
.cart-btn:focus,
.cart-btn:active {
  background: none !important;
  box-shadow: none !important;
}
.toolbar input,
.toolbar select,
#contactForm .input,
#contactForm textarea {
  background: #ffffff0e !important;
  color: var(--text);
  border: 1px solid #ffffff80 !important;
  border-radius: 8px !important;
  margin-bottom: 10px !important;
  padding: 0.6rem 10px !important;
  font-size: 1rem;
  box-sizing: border-box;
  transition: border-color .2s;
}

/* Placeholder couleur */
.toolbar input::placeholder,
#contactForm .input::placeholder,
#contactForm textarea::placeholder {
  color: #c5c1c1 !important;
  opacity: 1;
}

#productPage {
  --bg:#f6f7fb;
  --card:#ffffff;
  --muted:#6b7280;
  --accent:#0ea5a3;
  --accent-600:#059e9b;
  --accent-700:#047e7c;
  --danger:#ef4444;
  --glass: rgba(255,255,255,0.6);
  --shadow: 0 6px 18px rgba(17,24,39,0.08);
  --radius:12px;
  --max-width:1180px;
  --gap:20px;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
#productPage * { box-sizing: border-box; }
#productPage .container {
  max-width: var(--max-width);
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 420px;
  gap: var(--gap);
  align-items: start;
}
#productPage .gallery {
  background: var(--card);
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: var(--shadow);
  display: flex;
  gap: 16px;
  align-items: flex-start;
}
#productPage .thumbs {
  width: 88px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
#productPage .thumbs button {
  border: 0;
  background: transparent;
  padding: 0;
  cursor: pointer;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(2,6,23,0.05);
  transition: transform .18s ease, box-shadow .18s ease;
}
#productPage .thumbs button:hover { transform: translateY(-4px); }
#productPage .thumbs img {
  width: 88px;
  height: 88px;
  object-fit: cover;
  display: block;
}
#productPage .main-image {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  padding: 8px;
  border-radius: 10px;
  overflow: hidden;
}
#productPage .main-image img {
  width: 100%;
  height: 520px;
  object-fit: cover;
  border-radius: 8px;
}
#productPage .badge {
  position: absolute;
  left: 18px;
  top: 18px;
  background: linear-gradient(90deg,var(--accent),var(--accent-700));
  color: white;
  padding: 8px 12px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 13px;
  box-shadow: 0 6px 18px rgba(14,165,163,0.18);
}
#productPage .zoom-lens {
  position: absolute;
  right: 18px;
  bottom: 18px;
  background: var(--glass);
  padding: 8px;
  border-radius: 9px;
  font-weight: 600;
  font-size: 13px;
}
#productPage .product-card {
  background: var(--card);
  border-radius: var(--radius);
  padding: 22px;
  box-shadow: var(--shadow);
  position: sticky;
  top: 40px;
  height: fit-content;
}
#productPage .product-title {
  font-size: 22px;
  font-weight: 700;
  line-height: 1.1;
  margin: 0 0 6px;
}
#productPage .vendor {
  font-size: 13px;
  color: var(--muted);
  margin-bottom: 14px;
}
#productPage .price-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 14px;
}
#productPage .price {
  font-size: 20px;
  font-weight: 700;
}
#productPage .price--compare {
  font-size: 14px;
  color: var(--muted);
  text-decoration: line-through;
}
#productPage .badge-stock {
  background: #22c55e;
  color: white;
  padding: 6px 10px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 13px;
}
#productPage .rating {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--muted);
  font-size: 14px;
}
#productPage .meta {
  display: flex;
  gap: 12px;
  margin-top: 12px;
  margin-bottom: 18px;
}
#productPage .meta .pill {
  background: #f1f5f9;
  padding: 8px 10px;
  border-radius: 10px;
  font-weight: 600;
  color: #0f172a;
}
#productPage label {
  display: block;
  font-weight: 600;
  margin-bottom: 6px;
}
#productPage select,
#productPage input[type=number] {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: 1px solid #e6e9ef;
  font-size: 14px;
}
#productPage .variants {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 14px;
}
#productPage .variant-btn {
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px solid #e6e9ef;
  background: white;
  cursor: pointer;
}
#productPage .variant-btn.active {
  border-color: var(--accent);
  box-shadow: 0 6px 18px rgba(14,165,163,0.08);
  transform: translateY(-2px);
}
#productPage .actions {
  display: flex;
  gap: 12px;
  margin-top: 10px;
}
#productPage .btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  justify-content: center;
  padding: 12px 16px;
  border-radius: 12px;
  border: 0;
  cursor: pointer;
  font-weight: 700;
}
#productPage .btn-primary {
  background: linear-gradient(90deg,var(--accent),var(--accent-600));
  color: white;
  box-shadow: 0 12px 32px rgba(6,95,94,0.12);
}
#productPage .btn-ghost {
  background: transparent;
  border: 1px solid #e6e9ef;
  color: var(--muted);
}
#productPage .btn-like {
  background: transparent;
  padding: 8px;
  border-radius: 10px;
  border: 1px solid #fde68a;
  color: #b45309;
}
#productPage .fulfillment {
  font-size: 13px;
  color: var(--muted);
  margin-top: 12px;
}
#productPage .tabs {
  background: transparent;
  margin-top: 18px;
}
#productPage .tab-buttons {
  display: flex;
  gap: 8px;
  border-bottom: 1px solid #eef2f7;
  padding-bottom: 8px;
  margin-bottom: 16px;
}
#productPage .tab-buttons button {
  background: transparent;
  border: 0;
  padding: 10px 6px;
  cursor: pointer;
  font-weight: 700;
  color: var(--muted);
}
#productPage .tab-buttons button.active {
  color: var(--accent);
  border-bottom: 3px solid var(--accent);
  padding-bottom: 6px;
}
#productPage .tab-content {
  background: var(--card);
  padding: 18px;
  border-radius: 10px;
  box-shadow: var(--shadow);
  margin-top: 14px;
}
#productPage .specs {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
#productPage .spec {
  background: #fbfdff;
  padding: 10px;
  border-radius: 8px;
}
#productPage .rec-section {
  margin-top: 28px;
}
#productPage .rec-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
}
#productPage .rec-card {
  background: white;
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 6px 18px rgba(2,6,23,0.03);
  text-align: center;
}
#productPage .rec-card img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: 8px;
}
#productPage .rec-card h4 {
  font-size: 14px;
  margin: 8px 0 6px;
}
#productPage .rec-card p {
  color: var(--muted);
  font-size: 13px;
  margin: 0;
}
#productPage .fly {
  position: fixed;
  z-index: 9999;
  pointer-events: none;
  transition: transform .9s cubic-bezier(.2,.9,.2,1),opacity .9s;
}
@media (max-width:1100px){
  #productPage .container{grid-template-columns:1fr;border-radius:0}
  #productPage .main-image img{height:420px}
  #productPage .rec-grid{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:680px){
  #productPage .thumbs{display:none}
  #productPage .main-image img{height:320px}
  #productPage .container{grid-template-columns:1fr}
  #productPage .product-card{position:initial}
  #productPage .rec-grid{grid-template-columns:1fr}
}
#currency-pill {
  background: #ffffff0e!important;
  color: #fff !important;
  border: 1px solid #ffffff80 !important;
  border-radius: 19px !important;
  margin-bottom: 10px !important;
  margin-top: 10px;
  padding: 0.6rem 10px !important;
  font-size: 0.9rem !important;
  box-sizing: border-box;
  transition: background .18s, color .18s, border-color .18s;
  cursor: pointer;
  width: 70px;
  height: 32px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: inherit;
  font-weight: 600;
}
#currency-pill:hover,
#currency-pill:focus {
  background: #ffffff0e !important;
  color: var(--accent) !important;
  border-color: var(--accent) !important;
  outline: none;
}
.faq-accordion summary {
  min-width: 516px !important;
  max-width: 516px !important;
  width: 516px !important;
  min-height: 74px !important;
  max-height: 74px !important;
  height: 74px !important;
  background: #ffffff0e !important;
  color: var(--accent);
  border: 1px solid #ffffff80 !important;
  border-radius: 8px !important;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  font-weight: 600;
  font-size: 1.08rem;
  padding: 0 12px;
  outline: none;
  user-select: none;
  transition: color .18s, border-color .18s, background .18s;
}
.timelapse-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: #ffffff0e;
  border: 1px solid #ffffff80;
  border-radius: 16px;
  box-shadow: 0 4px 24px 0 #d7ff2f22, 0 2px 12px 0 #000;
  padding: 44px 24px 36px 24px;
  margin: 48px auto 0 auto;
  max-width: 700px;
}
.timelapse-video-wrapper {
  width: 100%;
  max-width: 520px;
  aspect-ratio: 16/9;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 18px #0004;
  background: #181818;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}
.timelapse-video {
  width: 100%;
  height: 100%;
  border: none;
  display: block;
  background: #181818;
}
@media (max-width: 700px) {
  .timelapse-block {
    padding: 28px 6vw 22px 6vw;
    max-width: 98vw;
  }
  .timelapse-video-wrapper {
    max-width: 100vw;
    border-radius: 8px;
  }
}
#cart-drawer {
  position: fixed;
  top: 0; right: -420px; width: 420px; max-width: 100vw; height: 100vh;
  background: #fff; color: #222; box-shadow: -8px 0 32px #0003;
  z-index: 1002; transition: right .32s cubic-bezier(.7,.2,.2,1);
  display: flex; flex-direction: column;
}
#cart-drawer.open { right: 0; }
#cart-drawer header { padding: 18px 24px; border-bottom: 1px solid #eee; display: flex; align-items: center; justify-content: space-between; }
#cart-drawer h2 { margin: 0; font-size: 1.2em; }
#cart-drawer .close { background: transparent; border: none; font-size: 1.3em; cursor: pointer; color: #144d29; }
#cart-drawer .cart-items { flex: 1; overflow-y: auto; padding: 18px 24px; }
#cart-drawer .cart-item { display: flex; align-items: center; gap: 16px; margin-bottom: 18px; }
#cart-drawer .cart-item img { width: 56px; height: 56px; object-fit: cover; border-radius: 8px; }
#cart-drawer .cart-item-title { font-weight: 600; }
#cart-drawer .cart-item-price { color: #144d29; font-weight: 700; }
#cart-drawer .cart-item-qty { margin: 0 8px; }
#cart-drawer .cart-item-remove { background: #eee; border: none; border-radius: 6px; padding: 4px 10px; cursor: pointer; font-size: 1em; }
#cart-drawer .cart-summary { padding: 18px 24px; border-top: 1px solid #eee; }
#cart-drawer .cart-summary strong { font-size: 1.08em; }
#cart-drawer .cart-actions { display: flex; gap: 12px; margin-top: 16px; }
#cart-drawer .cart-actions button { flex: 1; }
#cart-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.45);
  z-index: 1001; display: none;
}
#cart-overlay.open { display: block; }
@media (max-width: 500px) {
  #cart-drawer { width: 100vw; }
}
#cart-drawer {
  width: 420px !important;
  right: -420px !important;
  max-width: 100vw !important;
  height: 100vh !important;
}
#cart-drawer.open {
  right: 0 !important;
}
#cart-drawer {
  position: fixed;
  top: 0; right: -420px; width: 420px; max-width: 100vw; height: 100vh;
  background: #fff; color: #222; box-shadow: -8px 0 32px #0003;
  z-index: 1002; transition: right .32s cubic-bezier(.7,.2,.2,1);
  display: flex; flex-direction: column;
}
#cart-drawer.open { right: 0; }
#cart-drawer header { padding: 18px 24px; border-bottom: 1px solid #eee; display: flex; align-items: center; justify-content: space-between; }
#cart-drawer h2 { margin: 0; font-size: 1.2em; }
#cart-drawer .close { background: transparent; border: none; font-size: 1.3em; cursor: pointer; color: #144d29; }
#cart-drawer .cart-items { flex: 1; overflow-y: auto; padding: 18px 24px; }
#cart-drawer .cart-item { display: flex; align-items: center; gap: 16px; margin-bottom: 18px; }
#cart-drawer .cart-item img { width: 56px; height: 56px; object-fit: cover; border-radius: 8px; }
#cart-drawer .cart-item-title { font-weight: 600; }
#cart-drawer .cart-item-price { color: #144d29; font-weight: 700; }
#cart-drawer .cart-item-qty { margin: 0 8px; }
#cart-drawer .cart-item-remove { background: #eee; border: none; border-radius: 6px; padding: 4px 10px; cursor: pointer; font-size: 1em; }
#cart-drawer .cart-summary { padding: 18px 24px; border-top: 1px solid #eee; }
#cart-drawer .cart-summary strong { font-size: 1.08em; }
#cart-drawer .cart-actions { display: flex; gap: 12px; margin-top: 16px; }
#cart-drawer .cart-actions button { flex: 1; }
#cart-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.45);
  z-index: 1001; display: none;
}
#cart-overlay.open { display: block; }
@media (max-width: 500px) {
  #cart-drawer { width: 100vw; }
}
    </style>
</head>
<body>
  <div class="bg-green-halo"></div>
  <header class="site">
  <div class="container row" style="justify-content:space-between;">
    <div style="display:flex;align-items:center;gap:24px;">
      <div class="logo" style="margin-left:-18px;">
        <img src="https://i.ibb.co/23jrYqM8/c83b0d1d-822f-4902-9dcf-d329f164b778-removebg-preview.png" alt="Printxe3D Logo" style="height:110px;">
        <button id="currency-pill" type="button">€ EUR</button>
      </div>
    </div>
    <nav style="display:flex;gap:1.5rem;justify-content:center;align-items:center;flex:1;">
      <a href="#home">Accueil</a>
      <a href="#store">Boutique</a>
      <a href="#configurator">Configurateur</a>
      <a href="#about">À propos</a>
      <a href="#contact">Contact</a>
    </nav>
    <div>
      <button class="cart-btn" id="openCart">
  <img src="https://i.ibb.co/dqgw5vH/panier.png" alt="Panier">
</button>
    </div>
  </div>
</header>

  <main>

    <div id="productPage" style="display:none"></div>
    <section class="hero section" id="home">
      <div class="halo"></div>
      <div class="container heroRow">
        <div>
          <p class="muted" style="letter-spacing:.25em;text-transform:uppercase;font-size:.72rem">Solutions d'impression 3D</p>
          <h1 class="h1 title">Donnez <span style="color:var(--accent)">vie</span> à vos idées.</h1>
          <p class="muted" style="max-width:52ch">Prototypage, pièces sur‑mesure et produits finis – qualité industrielle, délais express.</p>
          <div style="display:flex;gap:10px;margin-top:14px">
            <a class="btn btn-acc" href="#store">Découvrir la boutique</a>
            <a class="btn btn-ghost" href="#configurator">Configurateur 3D</a>
          </div>
          <div class="muted" style="margin-top:18px;opacity:.7;font-size:.8rem">Prusa · Elegoo · Bambu Lab · Anycubic · Creality</div>
        </div>
        <div class="viewer" id="heroViewer" style="position:relative;">
          <model-viewer
  src="https://contactprintxe3d-star.github.io/mon-modele-3d/logo3D.gltf"
  alt="Logo 3D"
  auto-rotate
  auto-rotate-delay="0"
  rotation-per-second="1.5"
  camera-orbit="0deg 75deg 140m"
  min-camera-orbit="auto auto 140m"
  max-camera-orbit="auto auto 140m"
  disable-zoom
  disable-pan
  camera-controls
  background-color="transparent"
  poster="https://contactprintxe3d-star.github.io/mon-modele-3d/poster.png"
  style="width:100%;height:500px;background:transparent;box-shadow:none;border-radius:0;border:none;display:block;">
</model-viewer>
        </div>
      </div>
    </section>
<section id="pourquoi" class="section">  
  <div class="container">  
    <div style="text-align:center; margin-bottom: 18px;">
  <h2 class="h1" style="margin-top:10px;line-height:1.08">
    Pourquoi choisir <span style="color:var(--accent);text-shadow:0 0 8px #d7ff2f66;">Printxe3D</span>
  </h2>
  <p class="muted" style="max-width:900px;margin:18px auto 0;font-size:1.13rem;line-height:1.6;letter-spacing:.01em;">
    Suivi projet personnalisé pour des pièces fiables, au bon coût et dans les temps<br>
    <span style="color:var(--accent);font-weight:600;">
      Du prototype à la petite série
    </span>
  </p>
</div>  

    <div class="grid featGrid" style="margin-top:32px">
  <div class="card pad shadow feature-card">
    <div class="feature-ico" style="background:rgba(215,255,47,0.13)">
      <!-- gear / qualité industrielle -->
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <circle cx="12" cy="12" r="3.2" stroke="#D7FF2F" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M19.4 13.2a6.9 6.9 0 0 0 .04-2.4l1.9-1.1a.6.6 0 0 0 .15-.82l-1.8-3.1a.6.6 0 0 0-.78-.25l-2.1.85a6.9 6.9 0 0 0-1.8-1l-.3-2.2a.6.6 0 0 0-.6-.52h-3.6a.6.6 0 0 0-.6.52l-.3 2.2a6.9 6.9 0 0 0-1.8 1l-2.1-.85a.6.6 0 0 0-.78.25L2.5 9a.6.6 0 0 0 .15.82l1.9 1.1a6.9 6.9 0 0 0 .04 2.4l-1.9 1.1a.6.6 0 0 0-.15.82l1.8 3.1c.16.28.5.4.78.25l2.1-.85c.56.38 1.17.68 1.8 1l.3 2.2c.05.28.29.48.57.48h3.6c.28 0 .52-.2.57-.48l.3-2.2c.63-.32 1.24-.62 1.8-1l2.1.85c.28.12.62.03.78-.25l1.8-3.1a.6.6 0 0 0-.15-.82l-1.9-1.1z" stroke="#D7FF2F" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </svg>
    </div>
    <h3 class="h3 accent">Qualité industrielle</h3>
    <p class="muted">Tolérances serrées, répétabilité contrôlée et contrôle qualité sur chaque lot.</p>
  </div>

  <div class="card pad shadow feature-card">
    <div class="feature-ico" style="background:rgba(215,255,47,0.13)">
      <!-- clock / délais rapides -->
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <circle cx="12" cy="12" r="8" stroke="#D7FF2F" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M12 7v5l3 2" stroke="#D7FF2F" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <h3 class="h3 accent">Délais rapides</h3>
    <p class="muted">Prototypage dès 48h et options express selon votre urgence.</p>
  </div>

  <div class="card pad shadow feature-card">
    <div class="feature-ico" style="background:rgba(215,255,47,0.13)">
      <!-- certificate / matériaux certifiés -->
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect x="3.5" y="3.5" width="17" height="13" rx="1.2" stroke="#D7FF2F" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M7.5 6.5h9" stroke="#D7FF2F" stroke-width="1.4" stroke-linecap="round"/>
      </svg>
    </div>
    <h3 class="h3 accent">Matériaux certifiés</h3>
    <p class="muted">PLA, PETG, ABS… fiches techniques et traçabilité disponibles.</p>
  </div>

  <div class="card pad shadow feature-card">
    <div class="feature-ico" style="background:rgba(215,255,47,0.13)">
      <!-- headset / accompagnement d'experts -->
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M4 12a8 8 0 0 1 16 0v3a3 3 0 0 1-3 3h-1" stroke="#D7FF2F" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M4 15v-1a8 8 0 0 1 8-8" stroke="#D7FF2F" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <rect x="3.5" y="14.5" width="3" height="4" rx="1" stroke="#D7FF2F" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
        <rect x="17.5" y="14.5" width="3" height="4" rx="1" stroke="#D7FF2F" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <h3 class="h3 accent">Accompagnement d’experts</h3>
    <p class="muted">Conseil DfAM, choix matière/process et optimisation coût/performances.</p>
  </div>
</div>  

    <div class="card pad shadow" id="statsCounterBlock" style="margin-top:32px;background:linear-gradient(120deg,#161616 60%,#181818 100%);border:1.5px solid rgba(215,255,47,0.10)">
      <div class="grid" style="grid-template-columns:repeat(4,1fr);gap:20px;text-align:center">
        <div>
          <div class="muted text-sm" style="letter-spacing:.08em;">pièces imprimer</div>
          <div class="price stat-counter" data-target="400" data-prefix="+">0</div>
        </div>
        <div>
          <div class="muted text-sm" style="letter-spacing:.08em;">satisfaction client</div>
          <div class="price stat-counter" data-target="98.7" data-suffix="%" data-decimals="1">0</div>
        </div>
        <div>
          <div class="muted text-sm" style="letter-spacing:.08em;">prototypage</div>
          <div class="price stat-counter" data-target="48" data-suffix="h">0</div>
        </div>
        <div>
          <div class="muted text-sm" style="letter-spacing:.08em;">pas de minimum</div>
          <div class="price stat-counter" data-target="0" data-suffix=" MOQ">0</div>
        </div>
      </div>
    </div>  
  </div>  
</section>
    <section class="section" id="store">
      <div class="container">
        <div style="display:flex;align-items:end;gap:12px;flex-wrap:wrap; margin-left:-10px;">
          <div style="display:flex;flex-direction:column;justify-content:flex-end;">
    <p class="muted" style="letter-spacing:.25em;text-transform:uppercase;font-size:.72rem;margin:0 0 2px 0;">Boutique en Ligne</p>
    <h2 class="h2" style="margin:0;">Nos produits</h2>
  </div>
  <div class="toolbar">
    <input id="search" placeholder="Rechercher…" />
    <select id="category"></select>
    <select id="sort">
      <option value="rating">Mieux noté</option>
      <option value="price-asc">Prix ↑</option>
      <option value="price-desc">Prix ↓</option>
    </select>
    <select id="rating">
      <option value="0">Note ≥ 0★</option>
      <option value="3">Note ≥ 3★</option>
      <option value="4">Note ≥ 4★</option>
      <option value="4.5">Note ≥ 4.5★</option>
    </select>
    <select id="price">
      <option value="all">Tous prix</option>
      <option value="0-50">0–50</option>
      <option value="50-100">50–100</option>
      <option value="100-200">100–200</option>
    </select>
  </div>
        </div>
        <div class="grid prodGrid" id="grid" style="margin-top:16px"></div>
        <div style="display:flex;justify-content:center;margin-top:18px">
          <button class="btn" id="loadMore" style="border-color:rgba(255,255,255,.12)">Charger plus</button>
        </div>
      </div>
    </section>
    <section class="section" id="configurator">
  <div class="container">
    <h2 class="h2">Configurateur 3D</h2>
    <div class="grid" style="grid-template-columns:1.1fr .9fr; gap: 24px;">
      <div class="card pad" style="background:var(--bg-soft); border-radius:var(--radius); box-shadow:0 4px 24px #0003; color:var(--text); display:flex; flex-direction:column; justify-content:center;">
        <iframe data-tally-src="https://tally.so/embed/w89MZr?alignLeft=1&hideTitle=1&transparentBackground=1&formEventsForwarding=1" loading="lazy" width="100%" height="460" frameborder="0" marginheight="0" marginwidth="0" title=" "></iframe>
<script>var d=document,w="https://tally.so/widgets/embed.js",v=function(){"undefined"!=typeof Tally?Tally.loadEmbeds():d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach((function(e){e.src=e.dataset.tallySrc}))};if("undefined"!=typeof Tally)v();else if(d.querySelector('script[src="'+w+'"]')==null){var s=d.createElement("script");s.src=w,s.onload=v,s.onerror=v,d.body.appendChild(s);}</script>
      </div>
      <div class="card pad" style="background:var(--bg-soft); border-radius:var(--radius); box-shadow:0 4px 24px #0003; color:var(--text); display:flex; flex-direction:column; align-items:center; justify-content:center;">
        <div id="cfgViewerBg" style="width:100%; height:440px; background:linear-gradient(120deg,#181818 0%,#232323 100%); border-radius:12px; border:1.5px solid rgba(215,255,47,0.10); display:flex; align-items:center; justify-content:center;">
          <iframe 
            src="https://www.viewstl.com/?embedded" 
            width="100%" 
            height="440" 
            style="border:none; background:transparent; border-radius:12px;">
          </iframe>
        </div>
      </div>
    </div>
  </div>
</section>
<section id="upload">
  <div class="container">
    <h2 class="h2">Uploader un fichier STL</h2>
    <div id="stl-viewer-app"></div>
  </div>
</section>


    <section class="section" id="contact">
      <div class="container">
        <h2 class="h2">FAQ & Contact</h2>
        <div class="grid" style="grid-template-columns:1fr 1fr">
          <div class="card pad">
<div class="card pad faq-card" style="background:none;border:none;box-shadow:none;padding:0;">
  <details class="faq-accordion">
    <summary>
      <span class="faq-ico">
        <svg width="28" height="28" fill="none" stroke="#D7FF2F" stroke-width="2"><rect x="4" y="4" width="20" height="20" rx="5"/><path d="M9 9h10M9 14h10M9 19h10"/></svg>
      </span>
      Quels formats acceptez‑vous ?
    </summary>
    <p class="muted">STL, OBJ, STEP (convertir en STL/OBJ pour prévisualisation).</p>
  </details>
  <details class="faq-accordion">
    <summary>
      <span class="faq-ico">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect x="3.5" y="3.5" width="17" height="13" rx="1.2" stroke="#D7FF2F" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></rect>
        <path d="M7.5 6.5h9" stroke="#D7FF2F" stroke-width="1.4" stroke-linecap="round"></path>
      </svg>
      </span>
      Livrez‑vous hors France ?
    </summary>
    <p class="muted">La boutique expédie en France. Sur devis, l'international est possible.</p>
  </details>
  <details class="faq-accordion">
    <summary>
      <span class="faq-ico">
        <svg width="28" height="28" fill="none" stroke="#D7FF2F" stroke-width="2"><circle cx="14" cy="14" r="11"/><path d="M14 8v7l4 3"/></svg>
      </span>
      Délais moyens ?
    </summary>
    <p class="muted">2–5 jours ouvrés selon file d'attente et finitions.</p>
  </details>
</div>
          </div>
          <form class="card pad" id="contactForm">
  <label>E‑mail <input required type="email" name="email" class="input" /></label>
  <label style="margin-top:8px">Message <textarea required rows="5" name="message" class="input"></textarea></label>
  <button class="btn btn-acc" style="margin-top:10px" type="submit">Envoyer</button>
  <div id="contactStatus" class="muted" style="margin-top:8px"></div>
</form>
        </div>
      </div>
  </main>

  <footer>
    <div class="container section" style="padding-top:32px;padding-bottom:32px">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
        <div class="logo">
          <img src="https://i.ibb.co/23jrYqM8/c83b0d1d-822f-4902-9dcf-d329f164b778-removebg-preview.png" alt="Printxe3D Logo" style="height:110px;">
          <span class="muted">Impression 3D — France</span>
        </div>
        <div class="muted">Mentions • CGV • RGPD</div>
        <div class="muted">© <span id="year"></span> Printxe3D — Tous droits réservés.</div>
      </div>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/loaders/STLLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/loaders/OBJLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <script>
    (function(){
      emailjs.init("iYvgo_JQcTPk4yb_B");
    })();

    document.getElementById('contactForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const status = document.getElementById('contactStatus');
      status.textContent = "Envoi en cours…";
      emailjs.sendForm('service_cohmx2m', 'template_d59hjbv', this)
        .then(function() {
          status.textContent = "Message envoyé ! Merci pour votre contact.";
          e.target.reset();
        }, function(error) {
          status.textContent = "Erreur lors de l'envoi. Essayez plus tard.";
        });
    });

    document.addEventListener('DOMContentLoaded', function() {
  const CATEGORIES = [
    {id:'accessoires',label:'Accessoires'}
  ];
  
  const PRODUCTS = [

        {
  id: 994,
  slug: "mini-support-basketball",
  title: "Mini Support de Ballon de Basketball",
  price: 3,
  category: "gadgets",
  rating: 4.9,
  has3D: true,
  images: [
    "https://i.postimg.cc/3NGHcsjb/15.png",
    "https://i.postimg.cc/QNKsC7LP/16.png",
    "https://i.postimg.cc/QNKsC7Lw/17.png"
  ],
  variants: [
    { size: "Standard", mat: "PLA", color: "Orange", delta: 0 } // Couleur par défaut ajustée au thème
  ],
  description: `
    Mini support de basketball parfait pour les amateurs de sport ou comme décoration de bureau amusante.<br>
    Modèle disponible pour téléchargement sur Printables : <a href="https://www.printables.com/model/1295195-mini-basketball-stand" target="_blank">Voir le modèle sur Printables</a>
  `
},
        
       {
      id: 996,
      slug: "organisateur-de-bureau-modulaire",
      title: "Organisateur de bureau modulaire",
      price: 3,
      category: "accessoires",
      rating: 4.7,
      has3D: false,
      images: [
        "https://i.postimg.cc/7h0qqPKL/11.png",
        "https://i.postimg.cc/x8M99j6c/12.png"
      ],
      variants: [
        { size: "Standard", mat: "PLA", color: "Blanc", delta: 0 }
      ],
      description: `
        Organisateur de bureau modulaire « Deskmate » — support pour téléphone, stylos, clés USB et petits objets<br>

      `
    },
    {
  id: 995,
  slug: "porte-bouteille-vin-lapin",
  title: "Porte-bouteille de vin en Lapin ",
  price: 10,
  category: "accessoires",
  rating: 4.8,
  has3D: true,
  images: [
    "https://i.postimg.cc/yY0ZFwHV/13.png",
    "https://i.postimg.cc/J4jkb9LG/14.png"
  ],
  variants: [
    { size: "Standard", mat: "PLA", color: "Noir", delta: 0 }
  ],
  description: `
    Porte-bouteille de vin en forme de lapin pour une touche ludique et originale sur votre table.<br>
  `
},
      {
      id: 997,
      slug: "extension-de-crochet-pour-cintre",
      title: "Extension de crochet pour cintre",
      price: 0.50,
      category: "accessoires",
      rating: 5,
      has3D: false,
      images: [
        "https://i.postimg.cc/YS3qTShz/large-display-d82c61bf-5cef-49c0-8b4d-6b1b32844444-892438.webp",
        "https://i.postimg.cc/T1kbx91C/ca049693-e2e9-4e98-b19e-450f9d7fd888-892438.gif"
      ],
      variants: [
        { size: "Standard", mat: "PLA", color: "Blanc", delta: 0 }
      ],
      description: `
        Extension de crochet pour cintre, idéale pour suspendre plusieurs vêtements verticalement et gagner de la place dans votre dressing. Simple à installer, solide et imprimée en 3D.<br>

      `
    },
     {
      id: 998,
      slug: "porte-éponge_de_cuisine",
      title: "Porte-éponge avec système de drainage",
      price: 3,
      category: "accessoires",
      rating: 4.9,
      has3D: false,
      images: [
        "https://i.postimg.cc/JnzBp3D7/7.png",
        "https://i.postimg.cc/k4gtTN6R/8.png",
        "https://i.postimg.cc/B6n1m5LL/9.png"
      ],
      variants: [
        { size: "Standard", mat: "PLA", color: "Blanc", delta: 0 }
      ],
      description: `
        Un support pour 3 éponges avec drainage intégré,<br>
        conçu pour être placé à côté de votre évier<br>

      `
    },
    {
      id: 999,
      slug: "lightline-support-stabilo",
      title: "LightLine – Support compatible Stabilo®",
      price: 10,
      category: "accessoires",
      rating: 4.9,
      has3D: false,
      images: [
        "https://i.postimg.cc/QdnjkYZK/1.png",
        "https://i.postimg.cc/g0XmMyGS/2.png"
      ],
      variants: [
        { size: "Standard", mat: "PLA", color: "Blanc", delta: 0 }
      ],
      description: `
        Rangez et organisez jusqu’à 20 surligneurs dans ce support pratique et moderne.<br>
        Compact, robuste et facile à nettoyer, il apporte ordre et style à votre bureau.<br><br>
        ✔ 20 emplacements pour surligneurs<br>
        ✔ Compatible Stabilo® et autres marques<br>
        ✔ Design épuré et résistant
      `
    },
    {
      id: 1000,
      slug: "support-couvercles-tupperware",
      title: "Support couvercles Tupperware",
      price: 5,
      category: "accessoires",
      rating: 4.8,
      has3D: false,
      images: [
        "https://i.postimg.cc/vBb1Hybj/Design-sans-titre.png",
        "https://i.postimg.cc/mbFTxsxt/4.jpg"
      ],
      variants: [
        { size: "Grand", mat: "PLA", color: "Blanc", delta: 0 },
        { size: "Petit", mat: "PLA", color: "Blanc", delta: 0 }
      ],
      description: `
        Support pratique pour ranger et organiser vos couvercles Tupperware.<br>
        Disponible en grande et petite version, il s’adapte à la majorité des types de couvercles (selon les modèles).<br>
        Facile à imprimer en 3D, il ne nécessite aucun support si votre imprimante gère le pontage.<br>
        (Les modèles présentés ont été imprimés sans support, sans aucune difficulté.)<br><br>
        ✔ Organisation optimale et gain de place<br>
        ✔ Deux tailles disponibles<br>
        ✔ Impression simple, sans support nécessaire
      `
    },
    {
      id: 1001,
      slug: "fixclean-support-nettoyant",
      title: "Fix'Clean – Support pour nettoyant ménager",
      price: 1.5,
      category: "accessoires",
      rating: 4.7,
      has3D: false,
      images: [
        "https://i.postimg.cc/SRR6jLHh/5.png",
        "https://i.postimg.cc/yxGFRgzS/6.png"
      ],
      variants: [
        { size: "Standard", mat: "PLA", color: "Blanc", delta: 0 }
      ],
      description: `
        Gardez vos sprays et nettoyants à portée de main avec ce support mural pratique.<br>
        Facile à installer et robuste, il libère de l’espace tout en organisant votre cuisine, salle de bain ou garage.
      `
    }
  ];
  const $=sel=>document.querySelector(sel);
  const el=(tag,props={},children=[])=>{const n=document.createElement(tag);Object.assign(n,props);children.forEach(c=>n.append(c));return n};
  const fmt=(n,cur=localStorage.getItem('cur')||'EUR')=>new Intl.NumberFormat('fr-FR',{style:'currency',currency:cur}).format(n);
  const yearEl=$('#year');yearEl.textContent=new Date().getFullYear();
  const langBtn=$('#langSwitch');
  const curPill = $('#currency-pill');
curPill.addEventListener('click', () => {
  const map = { EUR: 'USD', USD: 'GBP', GBP: 'EUR' };
  const cur = localStorage.getItem('cur') || 'EUR';
  const next = map[cur];
  localStorage.setItem('cur', next);
  curPill.textContent = (next === 'EUR' ? '€ EUR' : next === 'USD' ? '$ USD' : '£ GBP');
  render();
  updateCart();
});
  const categorySel=$('#category');categorySel.innerHTML='<option value="all">Catégories</option>'+CATEGORIES.map(c=>`<option value="${c.id}">${c.label}</option>`).join('');
  const search=$('#search');const sort=$('#sort');const ratingSel=$('#rating');const priceSel=$('#price');
  const grid=$('#grid');
  let limit = 4;
  function render() {
    let list = [...PRODUCTS];
    const q = search.value.trim().toLowerCase();
    const cat = categorySel.value;
    const rMin = parseFloat(ratingSel.value);
    const p = priceSel.value.split('-');
    list = list.filter(pdt =>
      (cat === 'all' || pdt.category === cat) &&
      (!q || pdt.title.toLowerCase().includes(q)) &&
      (pdt.rating >= rMin)
    );
    if (priceSel.value !== 'all') list = list.filter(pdt => pdt.price >= +p[0] && pdt.price <= (+p[1]));
    if (sort.value === 'price-asc') list.sort((a, b) => a.price - b.price);
    if (sort.value === 'price-desc') list.sort((a, b) => b.price - a.price);
    if (sort.value === 'rating') list.sort((a, b) => b.rating - a.rating);
    grid.innerHTML = '';
    list.slice(0, limit).forEach((p, i) => {
      const cardEl = card(p);
      cardEl.style.animationDelay = (i * 0.08) + "s";
      grid.append(cardEl);
    });
    $('#loadMore').style.display = limit < list.length ? 'inline-flex' : 'none';
  }

    function addToCart(product) {
      let cart = JSON.parse(localStorage.getItem('cart') || '[]');
      const idx = cart.findIndex(item => item.id === product.id);
      if (idx > -1) {
        cart[idx].qty += 1;
      } else {
        cart.push({...product, qty: 1});
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCartDrawer();
    }
  function card(p){
    const card = document.createElement('div');
    card.className = 'card prod shadow';
    const t = document.createElement('div');
    t.className = 'thumb';
    t.innerHTML = `<img src="${p.images[0]}" alt="${p.title}" style="width:100%;height:100%;object-fit:cover;border-radius:14px;">`;
    const b = document.createElement('div');
    b.className = 'pad';
    b.innerHTML = `
  <div class="h3">${p.title}</div>
  <div class="muted">${p.rating}★</div>
  <div class="price">${fmt(p.price)}</div>
  <div style="display:flex;gap:8px;align-items:center;margin-top:6px">
    <button class="cart-button">
      <span class="add-to-cart">Ajouter</span>
      <span class="added">Retirer</span>
      <i class="fas fa-shopping-cart"></i>
      <i class="fas fa-box"></i>
    </button>
    <button class="btn btn-view" type="button">Voir +</button>
  </div>
`;
    const cartBtn = b.querySelector('.cart-button');
    cartBtn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      addToCart({
        id: p.id,
        title: p.title,
        price: p.price,
        image: p.images[0]
      });
    });
  b.querySelector('.btn.btn-view').onclick = (e) => {
    e.preventDefault();
    e.stopPropagation();
    openProduct(p);
  };
  card.addEventListener('click', function(e) {
    if (!e.target.closest('button')) openProduct(p);
  });
  card.append(t, b);
  return card;
}
       $('#loadMore').onclick=()=>{ limit += 4; render(); };
    [search,categorySel,sort,ratingSel,priceSel].forEach(elm=>elm.addEventListener('input',()=>{limit=4;render()}));
    const modal=el('div',{className:'modal',id:'productModal'});
    modal.innerHTML=`<div class="box card pad"><div style="display:flex;justify-content:space-between;align-items:center;gap:10px"><h3 id="pmTitle" class="h3">Produit</h3><button id="pmClose" class="btn" style="border-color:rgba(255,255,255,.12)">Fermer</button></div><div class="grid" style="grid-template-columns:1.1fr .9fr;gap:16px;margin-top:8px"><div class="card" style="padding:10px"><div id="pmViewer" class="viewer"></div></div><div class="card pad"><div class="muted" id="pmRating"></div><div style="margin:8px 0"><strong id="pmPrice" class="price"></strong></div><div class="variantRow"><select id="pmSize"></select><select id="pmMat"></select><select id="pmColor"></select></div><div style="margin-top:10px;display:grid;gap:8px"><button id="pmAdd" class="btn btn-acc">Ajouter au panier</button><p class="muted">Galerie: image + viewer 3D si disponible.</p></div><div style="margin-top:10px"><h4 class="h3">Avis</h4><div id="pmReviews" style="display:grid;gap:8px"></div></div></div></div></div>`;
    document.body.append(modal);$('#pmClose').onclick=()=>modal.classList.remove('open');
    let pmProduct=null;let pmPrice=0;let pmViewer=null;
        function openProduct(p) {
          document.querySelectorAll('main > section, #partners').forEach(s => s.style.display = 'none');
          const page = document.getElementById('productPage');
          page.style.display = 'block';
          page.innerHTML = `
            <main class="container">
              <section class="gallery" aria-label="Galerie produit">
                <div class="thumbs" id="thumbs">
                  ${p.images.map((img,i)=>`
                    <button data-src="${img}"><img src="${img}" alt="miniature ${i+1}"></button>
                  `).join('')}
                </div>
                <div class="main-image" id="mainImageContainer">
                  <img id="mainImage" src="${p.images[0]}" alt="Image principale produit">
                </div>
              </section>
              <aside class="product-card" aria-label="Détails produit">
                <button class="btn btn-ghost" id="backToStore" style="margin-bottom:18px">← Retour boutique</button>
                <h1 class="product-title">${p.title}</h1>
                <div class="price-row">
                  <div class="price">€${p.price.toFixed(2)}</div>
                  <div class="price--compare">€${(p.price*1.2).toFixed(2)}</div>
                  <div style="margin-left:auto" class="badge-stock">En stock</div>
                </div>
                <div class="meta" style="margin-top:12px">
                  <div class="pill">Livraison 3-5 Jours</div>
                </div>
                <div>
                  <label for="color">Couleur</label>
                  <div class="variants" id="colors">
                    ${(p.variants||[]).map((v,i)=>`
                      <button class="variant-btn${i===0?' active':''}" data-value="${v.color||v.mat||v.size}">${v.color||v.mat||v.size}</button>
                    `).join('')}
                  </div>
                </div>
                <div style="margin-top:8px"></div>
                <div style="display:flex;gap:10px;margin-top:12px;align-items:center">
                  <div style="flex:1">
                    <label for="qty">Quantité</label>
                    <input id="qty" type="number" value="1" min="1" />
                  </div>
                  <div style="width:40%">
                    <label style="opacity:0">placeholder</label>
                  </div>
                </div>
                <div class="actions">
                  <button class="btn btn-primary" id="addToCart">Ajouter au panier</button>
                  <button class="btn btn-ghost" id="buyNow">Acheter maintenant</button>
                </div>
                <div class="hr"></div>
                <div class="tabs">
                  <div class="tab-buttons" role="tablist">
                    <button class="active" data-tab="desc">Description</button>
                  </div>
                  <div class="tab-content" id="desc">
                    <p>${p.description || "Produit premium conçu pour durer. Tissu respirant, coutures renforcées, disponible en plusieurs couleurs et tailles. Idéal pour un usage quotidien ou comme cadeau."}</p>
                  </div>
                  </div>
                </div>
                <div class="rec-section">
                  <h3 style="margin:0 0 12px">Vous pourriez aussi aimer</h3>
                  <div class="rec-grid">
                    <div class="rec-card"><img src="https://i.postimg.cc/JnzBp3D7/7.png" alt="r1"><p class="muted"></p></div>
                    <div class="rec-card"><img src="https://i.postimg.cc/YS3qTShz/large-display-d82c61bf-5cef-49c0-8b4d-6b1b32844444-892438.webp" alt="r2"><p class="muted"></p></div>
                    <div class="rec-card"><img src="https://i.postimg.cc/QdnjkYZK/1.png" alt="r3"><p class="muted"></p></div>
                  </div>
                </div>
              </aside>
            </main>
            <img id="flyImage" class="fly" src="" style="width:56px;height:56px;border-radius:8px;opacity:0" alt="">
          `;
          const thumbs = page.querySelector('#thumbs');
          const main = page.querySelector('#mainImage');
          const qty = page.querySelector('#qty');
          const addToCart = page.querySelector('#addToCart');
          const buyNow = page.querySelector('#buyNow');
          const fly = page.querySelector('#flyImage');
          thumbs.addEventListener('click', e=>{
            const btn = e.target.closest('button');
            if(!btn) return;
            const src = btn.getAttribute('data-src');
            main.src = src;
            thumbs.querySelectorAll('button').forEach(b=>b.style.outline='0');
            btn.style.outline='3px solid rgba(14,165,163,0.12)';
          });
          page.querySelectorAll('.variants').forEach(group=>{
            group.addEventListener('click', e=>{
              const btn = e.target.closest('button'); if(!btn) return;
              group.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
              btn.classList.add('active');
            })
          });
          page.querySelectorAll('.tab-buttons button').forEach(btn=>{
            btn.addEventListener('click', ()=>{
              page.querySelectorAll('.tab-buttons button').forEach(b=>b.classList.remove('active'));
              btn.classList.add('active');
              const tab = btn.getAttribute('data-tab');
              page.querySelectorAll('.tab-content').forEach(c=>c.style.display='none');
              page.querySelector(`#${tab}`).style.display='block';
            })
          });
          addToCart.addEventListener('click', ()=>{
            fly.src = main.src;
            fly.style.left = (main.getBoundingClientRect().right - 80) + 'px';
            fly.style.top = (main.getBoundingClientRect().top + 20) + 'px';
            fly.style.opacity = 1;
            fly.style.transform = 'translate3d( -40px, -300px, 0) scale(.3)';
            setTimeout(()=>{ fly.style.opacity=0; },900);
            addToCart.innerText = 'Ajouté ✓';
            setTimeout(()=> addToCart.innerText = 'Ajouter au panier',1200);
          });
          buyNow.addEventListener('click', ()=>{
            alert('Procéder au paiement — exemple démo.');
          });
          qty.addEventListener('change', ()=>{ if(qty.value<1) qty.value=1 });
          page.querySelectorAll('img').forEach(img=>{ img.loading='lazy' });
          page.querySelector('#backToStore').onclick = function() {
            page.style.display = 'none';
            document.querySelectorAll('main > section, #partners').forEach(s => s.style.display = '');
            window.scrollTo(0, 0);
          };
        
          window.scrollTo(0, 0);
        }
    let cfgModel=null;let cfgScene=null;let cfgRenderer=null;let cfgCam=null;
    (function(){
      const v=initViewer('#cfgViewer');
      cfgScene=v.scene;cfgRenderer=v.renderer;cfgCam=v.camera;
    })();
    function estimatePriceFromBBox(bb){ if(!bb) return 0; const sx=bb.max.x-bb.min.x, sy=bb.max.y-bb.min.y, sz=bb.max.z-bb.min.z; const vol=Math.max(sx*sy*sz,0.0001); const sizeMul={S:1,M:1.4,L:1.9}[$('#cfgSize').value]; const matMul={PLA:1,PETG:1.1,ABS:1.2,RESIN:1.35}[$('#cfgMat').value]; const finMul={Brut:1,Poli:1.15,Peint:1.5}[$('#cfgFin').value]; const base=35; return Math.round((base + vol*120) * sizeMul * matMul * finMul); }
    function updateCfgPrice(bb){$('#cfgPrice').textContent=fmt(estimatePriceFromBBox(bb)||49)}
    ['cfgSize','cfgMat','cfgFin'].forEach(id=>document.getElementById(id).addEventListener('change',()=>updateCfgPrice(cfgModel?.geometry?.boundingBox)));
    document.getElementById('file3d').addEventListener('change', e=>{
      const f = e.target.files?.[0];
      const viewerBg = document.getElementById('cfgViewerBg');
      if (f) {
        viewerBg.style.background = "linear-gradient(120deg,#181818 0%,#232323 100%)";
      } else {
        viewerBg.style.background = "transparent";
      }
    });
function addToCart(product) {
  let cart = JSON.parse(localStorage.getItem('cart') || '[]');
  const idx = cart.findIndex(item => item.id === product.id);
  if (idx > -1) {
    cart[idx].qty += 1;
  } else {
    cart.push({...product, qty: 1});
  }
  localStorage.setItem('cart', JSON.stringify(cart));
  const cartBtn = document.getElementById('openCart');
  if (cartBtn) {
    cartBtn.classList.add('clicked');
    setTimeout(() => cartBtn.classList.remove('clicked'), 1200);
  }
}
const openCartBtn = document.getElementById('openCart');
const cartPage = document.getElementById('cartPage');
const closeCart = document.getElementById('closeCart');

openCartBtn.onclick = () => {
  document.querySelectorAll('main > section, #partners').forEach(s => s.style.display = 'none');
  cartPage.style.display = 'block';
  renderCartPage();
  window.scrollTo(0, cartPage.offsetTop);
};

closeCart.onclick = () => {
  cartPage.style.display = 'none';
  document.querySelectorAll('main > section, #partners').forEach(s => s.style.display = '');
  window.scrollTo(0, 0);
};
function renderCartPage() {
  const items = document.getElementById('cartItems');
  items.innerHTML = '';
  let sub = 0, weight = 0, count = 0;
  CART.forEach((it, idx) => {
    sub += it.price * it.qty;
    weight += (it.weight || 0.2) * it.qty;
    count += it.qty;
    const row = document.createElement('div');
    row.className = 'card pad';
    row.innerHTML = `
      <div>${it.title}</div>
      <div class="muted">x${it.qty}</div>
      <div class="price">${fmt(it.price * it.qty)}</div>
      <button class="btn" style="margin-left:8px;">✕</button>
    `;
    row.querySelector('button').onclick = () => {
      CART.splice(idx, 1);
      updateCart();
      renderCartPage();
    };
    items.appendChild(row);
  });
  const tva = sub * 0.20;
  const ship = calcShipping(weight, 'colissimo');
  const total = sub + tva + ship;
  document.getElementById('subtotal').textContent = fmt(sub);
  document.getElementById('vat').textContent = fmt(tva);
  document.getElementById('sShip').textContent = fmt(ship);
  document.getElementById('sTotal').textContent = fmt(total);
}
document.getElementById('clearCart').onclick = () => {
  CART = [];
  updateCart();
  renderCartPage();
};
    });
    function initViewer(sel, placeholder) {
      const el = $(sel);
      if (!el) return;
      el.innerHTML = '';
      const width = el.clientWidth || 400, height = el.clientHeight || 400;
      dir.position.set(5, 10, 7);
      scene.add(dir);
      if (!placeholder) {
        const loader = new THREE.STLLoader();

        loader.load('lion7.stl', geometry => {
          geometry.computeBoundingBox();
          geometry.center();
          const mesh = new THREE.Mesh(
            geometry,
            new THREE.MeshStandardMaterial({ color: 0xD7FF2F, metalness: 0.2, roughness: 0.6 })
          );
          const bbox = geometry.boundingBox;
          const maxSize = Math.max(
            bbox.max.x - bbox.min.x,
            bbox.max.y - bbox.min.y,
            bbox.max.z - bbox.min.z
          );
          const scale = 2.5 / maxSize;
          mesh.scale.set(scale, scale, scale);
          scene.add(mesh);
          function animate() {
            mesh.rotation.y += 0.008;
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
          }
          animate();
        });
      } else {
        const box = new THREE.Mesh(
          new THREE.BoxGeometry(1, 1, 1),
          new THREE.MeshStandardMaterial({ color: 0x888888, metalness: 0.1, roughness: 0.8 })
        );
        scene.add(box);
        function animate() {
          box.rotation.y += 0.008;
          renderer.render(scene, camera);
          requestAnimationFrame(animate);
        }
        animate();
      }
      return { scene, camera, renderer };
    }
    document.addEventListener('DOMContentLoaded', function() {
      const statsBlock = document.getElementById('statsCounterBlock');
      if (statsBlock) {
        let countersStarted = false;
        function animateCounter(el) {
          const target = parseFloat(el.dataset.target);
          const prefix = el.dataset.prefix || "";
          const suffix = el.dataset.suffix || "";
          const decimals = parseInt(el.dataset.decimals || "0", 10);
          let current = 0;
          const duration = 1200; // ms
          const start = performance.now();
          function update(now) {
            const progress = Math.min((now - start) / duration, 1);
            let value = current + (target - current) * progress;
            if (decimals) value = value.toFixed(decimals);
            else value = Math.round(value);
            el.textContent = prefix + value + suffix;
            if (progress < 1) requestAnimationFrame(update);
            else el.textContent = prefix + target + suffix;
          }
          requestAnimationFrame(update);
        }
        const observer = new IntersectionObserver((entries) => {
          if (entries[0].isIntersecting && !countersStarted) {
            statsBlock.querySelectorAll('.stat-counter').forEach(animateCounter);
            countersStarted = true;
            observer.disconnect();
          }
        }, { threshold: 0.4 });
        observer.observe(statsBlock);
      }
    });
    function updateNavActive() {
      const hash = location.hash || "#home";
      document.querySelectorAll('nav a').forEach(a => {
        const href = a.getAttribute('href');
        if ((hash === "" && href === "#home") || hash === href) {
          a.classList.add('active');
        } else {
          a.classList.remove('active');
        }
      });
    }
    document.addEventListener('DOMContentLoaded', updateNavActive);
    window.addEventListener('hashchange', updateNavActive);

    const cfgColorSel = document.getElementById('cfgColor');
const cfgColorSample = document.getElementById('cfgColorSample');
cfgColorSel.addEventListener('change', function() {
  cfgColorSample.style.background = this.value;
});
const cartDrawer = document.getElementById('cart-drawer');
const cartOverlay = document.getElementById('cart-overlay');
const openCartBtnDrawer = document.getElementById('openCart');
const closeCartDrawer = document.getElementById('closeCartDrawer');
const clearCartDrawer = document.getElementById('clearCartDrawer');
const checkoutCartDrawer = document.getElementById('checkoutCartDrawer');

function getCart() {
  return JSON.parse(localStorage.getItem('cart') || '[]');
}
function setCart(cart) {
  localStorage.setItem('cart', JSON.stringify(cart));
}
function removeFromCartDrawer(idx) {
  let cart = getCart();
  cart.splice(idx, 1);
  setCart(cart);
  renderCartDrawer();
}
function clearCartDrawerFn() {
  setCart([]);
  renderCartDrawer();
}
function renderCartDrawer() {
  const cart = getCart();
  const items = document.getElementById('cartItemsDrawer');
  items.innerHTML = '';
  let sub = 0, weight = 0;
  cart.forEach((it, idx) => {
    sub += it.price * it.qty;
    weight += (it.weight || 0.2) * it.qty;
    const row = document.createElement('div');
    row.className = 'card pad';
    row.innerHTML = `
      <div style="display:flex;align-items:center;gap:12px">
        <div style="flex-shrink:0">
          <img src="${it.image}" alt="${it.title}" style="width:56px;height:56px;border-radius:8px;object-fit:cover">
        </div>
        <div style="flex-grow:1">
          <div style="font-weight:600">${it.title}</div>
          <div class="muted" style="font-size:.9rem">x${it.qty} • ${fmt(it.price * it.qty)}</div>
        </div>
        <button class="btn" style="height:36px;width:36px;padding:0;border:none;background:rgba(255,255,255,.06);border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center">
          <i class="fas fa-times" style="color:#D7FF2F;font-size:1.2rem"></i>
        </button>
      </div>
    `;
    row.querySelector('button').onclick = () => {
      removeFromCartDrawer(idx);
    };
    items.appendChild(row);
  });
  document.getElementById('cartSubtotal').textContent = fmt(sub);
  document.getElementById('cartShipping').textContent = fmt(calcShipping(weight, 'colissimo'));
  document.getElementById('cartTotal').textContent = fmt(sub + parseFloat(document.getElementById('cartShipping').textContent.replace('€','')));
  const empty = cart.length === 0;
  document.getElementById('cartEmpty').style.display = empty ? 'block' : 'none';
  document.getElementById('cartContent').style.display = empty ? 'none' : 'block';
  document.getElementById('cartFooter').style.display = empty ? 'none' : 'flex';
  if (!empty) {
    const checkoutBtn = document.getElementById('checkoutCartDrawer');
    checkoutBtn.onclick = () => {
      alert('Procéder au paiement — exemple démo.');
    };
  }
}
document.getElementById('openCart').onclick = () => {
  cartDrawer.classList.add('open');
  cartOverlay.style.display = 'block';
  setTimeout(() => cartDrawer.style.right = '0', 20);
  renderCartDrawer();
};
document.getElementById('closeCartDrawer').onclick = () => {
  cartDrawer.classList.remove('open');
  cartDrawer.style.right = '-420px';
  cartOverlay.style.display = 'none';
};
document.getElementById('clearCartDrawer').onclick = () => {
  clearCartDrawerFn();
  cartDrawer.classList.remove('open');
  cartDrawer.style.right = '-420px';
  cartOverlay.style.display = 'none';
};
  </script>
<!-- React -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

<!-- Three.js et dépendances -->
<script src="https://unpkg.com/three@0.164.1/build/three.min.js"></script>
<script src="https://unpkg.com/three@0.164.1/examples/js/controls/OrbitControls.js"></script>
<script src="https://unpkg.com/three@0.164.1/examples/js/loaders/STLLoader.js"></script>

<!-- Ton composant -->
<script src="dist/STLUploadViewer.js"></script>

<!-- Rendu -->
<script>
  const root = ReactDOM.createRoot(document.getElementById("stl-viewer-app"));
  root.render(React.createElement(STLUploadViewer));
</script>

</body>
</html>

